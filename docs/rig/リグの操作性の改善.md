# リグの操作性の改善

[MarkDown化する前の、Googleドキュメント形式ファイル](https://docs.google.com/document/d/1LvJ4fnWQp_wO4Rm3PmuI56hsezxv8qS-bjJn9Fzg1DI/edit)

## 目的
- 撮影中に操作性の悪さでリグの修正が発生し、ポーズの修正作業が発生する事の予防
- ポージング作業効率の向上
- ユーザの操作性の向上

## 作業計画
- 操作性の悪い箇所の抽出
  - コントロールボーンを全て表示し、重なって操作しづらい個所を抽出
  - 動かしてみる
    - 可動範囲が狭い個所
    - 感度が低すぎる／高すぎる箇所
  - 余分なコントローラはないか
  - レイヤー分けで使いづらい部分は無いか
  - コントロールボーンが大きすぎ／小さすぎないか
  - BoneGroupsの増減の余地は無いか
- 設計
  - パネルの修正案作製
- 修正
  - コントローラの種類の分析
  - CtrlPicの追加
  - 関節の可動範囲の再指定
  - Transformationの設定変更
- 動作確認
  - 可動範囲が左右対称か
  - 抽出した不具合が全て直ってるか
  - デグレードしてないか
- 後始末
  - 先送り操作性改善事項を、作業管理シートに転記
## コントローラの種類分析
- 位置
- 回転
- 伸縮
- Pole
- 回転＋伸縮
  - 回転と伸縮に分離が良さそう
- Panel上
- 自由移動＋回転＋拡大縮小
  - DDEの頭など。デザインは工夫したいかも？
## パネル設計
### コントロール対象分析
※【補足】「ピン」はボーンの固定のOn/Offを切り替えるための独自用語
- 頭部
  - 顔
    - 眉
    - 目
      - 瞳の大きさ
    - まぶた
    - アゴ
      - 顔芸用のボーンの修正が必要
    - 頬
  - 耳
  - 葉っぱのピン
  - トランスフォーム
    - 全身ピン
    - 耳ピン
    - 瞳の開閉
  - 眼鏡
    - レンズ透過

### 修正案
- 体の各部に移動
- パネルに集約


## 問題／対策

|対象|問題|対策|解決日.N/DDE|特記事項|
|:--|:--|:--|:--|:--|
|Transformation|回転／明暗等のコントローラの感度の高すぎ／低すぎ<br>暗くなるのが速すぎ／明るくなるのが遅すぎ　など|スライダー系のTransformationの引数を修正orIKに変更|
|Panel|ポージングの際に、コントローラの拡大／縮小が必要になる|Poleボーンを操作しやすい位置に移動<br>【例】Sleeve_Pを袖の先に移動|
|〃|〃|パネル上のコントローラを移動だけで使える事を確認|
|〃|指のコントローラ　隣のコントローラエリアに侵入|パネルの再設計|
|CtrlPic|コントロールボーンが重なって、見つけづらい|前脚／腕と後脚／脚で区別がつくCtrlPicデザイン作製|
|〃|髪のコントローラが操作しずらい|【検討中】|
|〃|SizeのCtrlPicを多様しすぎ|CtrlPic.Sizeをコピーして、操作対象が分かるスライダーとして複数作成する<br>・CtrlPic名には、EQ（イコライザの略）を付ける|
|〃|コントローラでできることが直感的にわからない|回転用／移動用／Pole用／イコライザ用のCtrlPicを使い分ける|
|レイヤー|精査||
|Ctrl||コントロールボーンが直感的な位置に配置されていることと、関連する機能が固まって配置されていることをチェックする|
|〃|大きすぎ／小さすぎ|体幹のコントローラを大きくし、体幹から離れるほどにから離れるほど、コントローラが小さくなるようにする。|
|〃|前肢と後肢のコントローラの区別がつかない|①レイヤー分けで対応<br>②前肢のコントローラを小さくする。|
|可動範囲|Cartoonな動きをしようとした時、可動範囲が狭いとリグの修正が発生する|関節の可動範囲は、人間の可動範囲を無視する。人外かつCartoonなキャラなので、干渉が気にならない範囲で最大にする|
|自動化|DDEの膝の自動化<br>→足が伸縮するので無理？<br>→伸縮コントローラを分ければ行けそう|DDEの膝のリグを一部自動化|
|Check|以前にもリグの見直し作業を実施したが、修正漏れが大量に発生した。問題の横展開しなかった|問題点の水平展開|
|〃|チェックが甘かった|時間がないのでほどほどでいい？|
|〃|機能追加時のデザイン検討が雑かも？|
|SizeCustomShapeを使ってるコントローラが複数あり、コントローラの対象が分からない||CtrlPicの追加<br>・CtrlPicの使い分けの設計<br>・視認性の悪いCtrlPicの置き換え|
|etc||忘れている使いづらさがないか、頑張って思い出す<br>→無理かも→頑張る|
